# CLIP ChangeLog for app-crypt/pkcs11-proxy

  6 Jun 2018; Mickaël Salaün <clipos@ssi.gouv.fr>:
  Clean up distfile, set homepage and update license.

  11 Jul 2017; Timothée Ravier <clipos@ssi.gouv.fr>:
  Add comment to explain issue with external pinpad enabled card readers.

*pkcs11-proxy-1.0.7-r3 (15 Jun 2017)

  15 Jun 2017; Timothée Ravier <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.7-r3.ebuild, -pkcs11-proxy-1.0.7-r2.ebuild:
  Fix conf/core/filter_core.conf (daemon not starting in core cage).

*pkcs11-proxy-1.0.7-r2 (18 Oct 2016)

  18 Oct 2016; Alain Ozanne <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.7-r2.ebuild, -pkcs11-proxy-1.0.7-r1.ebuild:
  Added dependency on jail_init virtual service provided by init_cgroups.

  07 Mar 2016; ANSSI <clipos@ssi.gouv.fr>
  pkcs11-proxy-1.0.7-r1.ebuild:
  Create lib64 on clip 64 bits.

*pkcs11-proxy-1.0.7-r1 (16 Dec 2015)

  16 Dec 2015; Piotr Chmielnicki <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.7-r1.ebuild, -pkcs11-proxy-1.0.7.ebuild:
  Various fixes for SSM

*pkcs11-proxy-1.0.7 (27 Nov 2015)

  27 Nov 2015; Piotr Chmielnicki <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.7.ebuild, -pkcs11-proxy-1.0.6-r1.ebuild:
  Bump to 1.0.7; Fixed ANSSIPKI P12 export bug

*pkcs11-proxy-1.0.6-r1 (20 Nov 2015)

  20 Nov 2015; Piotr Chmielnicki <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.6-r1.ebuild, -pkcs11-proxy-1.0.6.ebuild:
  Fixed errors in directory names

*pkcs11-proxy-1.0.6 (17 Nov 2015)

  17 Nov 2015; Piotr Chmielnicki <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.6.ebuild, -pkcs11-proxy-1.0.4.20150209-r6.ebuild,
  +files/anssipki_patches:
  Bump Caml Crush to 1.0.6. Added SSM support.
  Extend Caml Crush with the ability to hande X.509 certificates bundled in
  PKCS#12 archives, by Ryad Benadjila.

  19 May 2015; Yves-Alexis Perez <clipos@ssi.gouv.fr>
  pkcs11-proxy-1.0.4.20150209-r6.ebuild:
  Add (build-)dependency on dev-lang/ocaml, dev-ml/findlib and dev-ml/ocaml-ssl.

*pkcs11-proxy-1.0.4.20150209-r6 (14 Apr 2015)

  14 Apr 2015; Mickaël Salaün <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r6.ebuild,
  -pkcs11-proxy-1.0.4.20150209-r5.ebuild, files/jails/p11proxy/fstab.internal:
  Remove useless read-write /tmp because of the self-jailing.

*pkcs11-proxy-1.0.4.20150209-r5 (27 Mar 2015)

  27 Mar 2015; Mickaël Salaün <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r5.ebuild,
  -pkcs11-proxy-1.0.4.20150209-r4.ebuild, files/jails/p11proxy/fstab.internal:
  Add a read-write /tmp for each jail (require by netplex).

*pkcs11-proxy-1.0.4.20150209-r4 (25 Mar 2015)

  25 Mar 2015; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r4.ebuild, -pkcs11-proxy-1.0.4.20150209-r3.ebuild:
  Reduction of capacities of the proxy by suppressing CLIP_NETWORK_SERVER (only useful for IP
  sockets and we use UNIX sockets)
  Also, the proxy is bound to be launched after reducecap in its launch script.

*pkcs11-proxy-1.0.4.20150209-r3 (25 Mar 2015)

  25 Mar 2015; Mickaël Salaün <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r3.ebuild,
  -pkcs11-proxy-1.0.4.20150209-r2.ebuild, files/jails/p11proxy/fstab.internal:
  Set the jails' root read-only.

*pkcs11-proxy-1.0.4.20150209-r2 (19 Mar 2015) 
  19 Mar 2015; ANSSI <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r2.ebuild,-pkcs11-proxy-1.0.4.20150209-r1.ebuild:
  Fix typo in label filtering rule of rm_b.

*pkcs11-proxy-1.0.4.20150209-r1 (26 Feb 2015) 
  26 Feb 2015; ANSSI <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209-r1.ebuild,-pkcs11-proxy-1.0.4.20150209.ebuild:
  Permit to change SetPin in core filtering rules.

*pkcs11-proxy-1.0.4.20150209 (09 Feb 2015) 
  09 Feb 2015; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.4.20150209.ebuild,-pkcs11-proxy-1.0.2-r12.ebuild:
  Bump proxy, + configs to allow log in with ias-ecc smartcards in clip 
  Proxy is as GitHub in commit aad13d5de8390d53aed99e050c3f989bed917901

*pkcs11-proxy-1.0.2-r12 (03 Nov 2014)

  03 Nov 2014; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r12.ebuild, -pkcs11-proxy-1.0.2-r11.ebuild:
  Add capacities SYS_ADMIN and CONTEXT to the proxy (needed here and already
  for the old proxy, forgotten when integrating CamlCrush)

*pkcs11-proxy-1.0.2-r11 (14 Oct 2014)

  14 Oct 2014; ANSSI <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r11.ebuild, -pkcs11-proxy-1.0.2-r10.ebuild:
  Fix missing slot_num xor slot_description in generated pam_pkcs11.conf.

*pkcs11-proxy-1.0.2-r10 (01 Oct 2014)

  01 Oct 2014; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r10.ebuild, -pkcs11-proxy-1.0.2-r9.ebuild:
  Fix difference between labels allowed in the core filter default configuration
  and labels in the smartcard-monitors default configuration.

*pkcs11-proxy-1.0.2-r9 (29 Jul 2014)

  14 Aug 2014; ANSSI <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r9.ebuild, -pkcs11-proxy-1.0.2-r8.ebuild:
  Fix mounting of xltck-middleware specific directory valid on
  x86 only.

*pkcs11-proxy-1.0.2-r8 (29 Jul 2014)

  29 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r8.ebuild, -pkcs11-proxy-1.0.2-r7.ebuild:
  Fix bind mount to use a directory with OpenSC.

*pkcs11-proxy-1.0.2-r7 (21 Jul 2014)

  21 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r7.ebuild, -pkcs11-proxy-1.0.2-r6.ebuild:
  Fix RPC timeout when using Unix sockets.

*pkcs11-proxy-1.0.2-r6 (18 Jul 2014)

  18 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r6.ebuild, -pkcs11-proxy-1.0.2-r5.ebuild:
  Fixup for some bind mounts for IAS-ECC cards.

*pkcs11-proxy-1.0.2-r5 (18 Jul 2014)

  18 Jul 2014; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r5.ebuild, -pkcs11-proxy-1.0.2-r4.ebuild:
  file pkcs11proxy.admin
  readded and taken into account in the ebuild  
  (abusively erased on a misunderstanding)

*pkcs11-proxy-1.0.2-r4 (15 Jul 2014)

  15 Jul 2014; Marion Daubignard <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r4.ebuild, -pkcs11-proxy-1.0.2-r3.ebuild:
  From now on the filter and proxy configuration files are treated
  as CLIP_CONF_FILES. Removal of the configuration file pkcs11proxyd.admin
  now useless, which was util then installed as pkcs11proxyd (misleading....)

*pkcs11-proxy-1.0.2-r3 (09 Jul 2014)

  09 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r3.ebuild, -pkcs11-proxy-1.0.2-r2.ebuild,
  +files/pkcs11-proxy-Fix-potential-overflow-in-C-to-OCaml.patch:
  Fix potential overflow in bindings.

*pkcs11-proxy-1.0.2-r2 (07 Jul 2014)

  07 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r2.ebuild, -pkcs11-proxy-1.0.2-r1.ebuild:
  Update to support crappy middleware.

*pkcs11-proxy-1.0.2-r1 (03 Jul 2014)

  03 Jul 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2-r1.ebuild, -pkcs11-proxy-1.0.2.ebuild,
  files/jails/p11proxy_fstab/*:
  Update bind mount with noexec for admin files in jails.

*pkcs11-proxy-1.0.2 (25 Jun 2014)

  25 Jun 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.2.ebuild, -pkcs11-proxy-1.0.0-r3.ebuild,
  files/pkcs11-proxy-daemonize-clip.patch,files/conf:
  Synchronize with Caml Crush 1.0.2 (important filter P11 fixes).
  Fix missing include for pkcs11proxyd-clip-launcher.c

*pkcs11-proxy-1.0.0-r3 (05 May 2014)

  05 May 2014; Vincent Strubel <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.0-r3.ebuild, -pkcs11-proxy-1.0.0-r2.ebuild,
  files/jails/p11proxy/nscleanup:
  Unmount /home/user as needed when setting up jails.

*pkcs11-proxy-1.0.0-r2 (14 Apr 2014)

  14 Apr 2014; Vincent Strubel <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.0-r2.ebuild, -pkcs11-proxy-1.0.0-r1.ebuild,
  files/pk11proxy:
  Do not error out too abruptly if some parameters are missing.
  Run eautoreconf in src_prepare.

*pkcs11-proxy-1.0.0-r1 (11 Mar 2014)

  11 Mar 2014; Vincent Strubel <clipos@ssi.gouv.fr>
  +pkcs11-proxy-1.0.0-r1.ebuild, -pkcs11-proxy-1.0.0.ebuild,
  files/pk11proxy:
  Init script cleanup - less verbose, less imports.

*pkcs11proxy-1.0.0 (07 Mar 2014)

  07 Mar 2014; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11proxy-1.0.0.ebuild, -pkcs11proxy-0.9.0.ebuild:
  Updated replacement version of caml-crush.

*pkcs11proxy-0.9.0 (24 Oct 2013)

  24 Oct 2013; Thomas Calderon <clipos@ssi.gouv.fr>
  +pkcs11-proxy-0.9.0.ebuild, +files/jails, +files/conf,
  +files/pkcs11proxyd:
  First replacement version of old pkcs11-proxy.

